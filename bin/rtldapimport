#!/usr/bin/env perl

use strict;
use warnings;

### after:     use lib qw(@RT_LIB_PATH@);
use lib '/opt/rt3/local/lib /opt/rt3/lib';
use RT;
RT::LoadConfig;
RT::Init;

use RT::Extension::LDAPImport;

my ($debug, $help);
use Getopt::Long;
GetOptions ( "debug" => \$debug, "help" => \$help );
if ($help) {
   print "$0: [--debug] [--help]\n";
   print "   --help           This usage statement.\n";
   print "   --debug          Enable debugging.\n";
   exit 0;
}


my $importer = RT::Extension::LDAPImport->new;
$importer->screendebug(1) if $debug;

print "Starting import\n";
$importer->import_users;
print "Finished import\n";
